<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Practice Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            transition: background-color 0.3s ease;
        }
        #game-container {
            text-align: center;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 90%;
            width: 400px;
        }
        #word, #challenge {
            font-size: 24px;
            margin-bottom: 20px;
        }
        #controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        button, input[type="text"] {
            font-size: 18px;
            padding: 10px 20px;
            margin: 5px;
            width: 80%;
            max-width: 300px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        input[type="text"] {
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        #review {
            margin-top: 20px;
            text-align: left;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="word"></div>
        <div id="challenge"></div>
        <div id="controls"></div>
        <div id="result"></div>
        <div id="review"></div>
    </div>
    <script>
        const words = [
            { word: "happy", antonyms: ["sad", "unhappy"], synonyms: ["joyful", "cheerful"], type: "adjective", definition: "feeling or showing pleasure or contentment" },
            { word: "big", antonyms: ["small", "tiny"], synonyms: ["large", "huge"], type: "adjective", definition: "of considerable size, extent, or intensity" },
            { word: "run", antonyms: ["walk", "stop"], synonyms: ["sprint", "jog"], type: "verb", definition: "move at a speed faster than a walk, never having both or all the feet on the ground at the same time" },
            { word: "dog", antonyms: ["cat"], synonyms: ["canine", "hound"], type: "noun", definition: "a domesticated carnivorous mammal that typically has a long snout, an acute sense of smell, and a barking, howling, or whining voice" },
            // Add more words here
        ];

        const gameModes = ["antonym", "synonym", "spell", "type"];
        let currentWord;
        let currentMode;
        let wrongAnswers = [];
        let waitingForNextWord = false;

        const body = document.body;
        const gameContainer = document.getElementById("game-container");
        const wordElement = document.getElementById("word");
        const challengeElement = document.getElementById("challenge");
        const controlsElement = document.getElementById("controls");
        const resultElement = document.getElementById("result");
        const reviewElement = document.getElementById("review");

        function startGame() {
            if (waitingForNextWord) {
                return; // Don't start a new word if we're waiting for user input
            }

            if (words.length === 0) {
                endGame();
                return;
            }

            const randomIndex = Math.floor(Math.random() * words.length);
            currentWord = words.splice(randomIndex, 1)[0];
            currentMode = gameModes[Math.floor(Math.random() * gameModes.length)];

            controlsElement.innerHTML = '';
            body.style.backgroundColor = '#f0f0f0';
            resultElement.textContent = "";
            
            switch (currentMode) {
                case "antonym":
                    wordElement.textContent = currentWord.word;
                    challengeElement.textContent = "What's an antonym?";
                    createInputField(currentWord.antonyms);
                    break;
                case "synonym":
                    wordElement.textContent = currentWord.word;
                    challengeElement.textContent = "What's a synonym?";
                    createInputField(currentWord.synonyms);
                    break;
                case "spell":
                    wordElement.textContent = "";
                    challengeElement.textContent = `Definition: ${currentWord.definition}`;
                    createInputField([currentWord.word]);
                    break;
                case "type":
                    wordElement.textContent = currentWord.word;
                    challengeElement.textContent = "What type of word is this?";
                    createTypeButtons();
                    break;
            }
        }

        function createInputField(correctAnswers) {
            const input = document.createElement("input");
            input.type = "text";
            input.placeholder = "Type your answer here";
            controlsElement.appendChild(input);

            const submitButton = document.createElement("button");
            submitButton.textContent = "Submit";
            submitButton.addEventListener("click", () => {
                checkAnswer(input.value, correctAnswers);
            });
            controlsElement.appendChild(submitButton);

            input.addEventListener("keypress", function(event) {
                if (event.key === "Enter") {
                    event.preventDefault();
                    submitButton.click();
                }
            });
        }

        function createTypeButtons() {
            const types = ["Noun", "Verb", "Adjective"];
            types.forEach(type => {
                const button = document.createElement("button");
                button.textContent = type;
                button.addEventListener("click", () => {
                    checkAnswer(type.toLowerCase(), [currentWord.type]);
                });
                controlsElement.appendChild(button);
            });
        }

     function checkAnswer(userAnswer, correctAnswers) {
    if (waitingForNextWord) return;

    const isCorrect = correctAnswers.some(answer => 
        userAnswer.toLowerCase().trim() === answer.toLowerCase().trim()
    );

    disableControls();
    waitingForNextWord = true;

    if (isCorrect) {
        body.style.backgroundColor = '#90EE90'; // Light green
        resultElement.textContent = "Correct!";
        setTimeout(() => {
            waitingForNextWord = false;
            startGame();
        }, 1000);
    } else {
        body.style.backgroundColor = '#FFB6C1'; // Light red
        wrongAnswers.push({ word: currentWord.word, mode: currentMode, correct: correctAnswers.join(', ') });
        resultElement.textContent = `Incorrect. Correct answer(s): ${correctAnswers.join(', ')}`;
        
        // Remove any existing click listeners
        document.removeEventListener('click', continueToNextWord);
        
        // Add the click listener after a short delay
        setTimeout(() => {
            document.addEventListener('click', continueToNextWord);
        }, 100);
    }
}


function continueToNextWord(event) {
    if (!waitingForNextWord) return;
    // Remove the click listener
    document.removeEventListener('click', continueToNextWord);
    waitingForNextWord = false;
    startGame();
}

        function disableControls() {
            const inputs = controlsElement.getElementsByTagName('input');
            const buttons = controlsElement.getElementsByTagName('button');
            
            for (let input of inputs) {
                input.disabled = true;
            }
            
            for (let button of buttons) {
                button.disabled = true;
            }
        }


        function endGame() {
            body.style.backgroundColor = '#f0f0f0';
            wordElement.textContent = "Game Over!";
            challengeElement.textContent = "";
            controlsElement.innerHTML = "";
            resultElement.textContent = "";

            if (wrongAnswers.length > 0) {
                reviewElement.innerHTML = "<h3>Review wrong answers:</h3>";
                wrongAnswers.forEach(answer => {
                    reviewElement.innerHTML += `<p>${answer.word} (${answer.mode}) - Correct answer(s): ${answer.correct}</p>`;
                });
            } else {
                reviewElement.textContent = "Great job! You got all answers correct!";
            }
        }

        // Start the game
        startGame();
    </script>
</body>
</html>
